\addchap{Приложение А}

\captionsetup{singlelinecheck=false, justification=raggedright}
\begin{lstlisting}[language=sql, caption=Создание базы данных и ее сущностей, label=create]
create database sosedushka_db;

create table sosedushka_db.user(
	tgName varchar(30) primary key,
	geoLat double precision,
	geoLong double precision,
	customerRole boolean, 
	executorRole boolean, 
	administratorRole boolean,
	adminVerified boolean);
create table sosedushka_db.connection(
	userTgName varchar(30) references sosedushka_db.user (tgName),
	currentRole varchar(15),
	primary key (userTgName, currentRole));
create table sosedushka_db.skill(
	id int generated by default as identity 
	(start with 1 increment by 1) primary key,
	name text not null);
create table sosedushka_db.executorSkill(
	executorId varchar(30) references sosedushka_db.user (tgName), 
	skillId int references sosedushka_db.skill (id),
	skillStatus varchar(20),
	primary key (executorId, skillId));
create table sosedushka_db.equipment (
	id int generated by default as identity 
	(start with 1 increment by 1) primary key,
	name text);
create table sosedushka_db.request(
	id int generated by default as identity 
	(start with 1 increment by 1) primary key,
	title text not null,
	periodOfRelevance timestamp,
	explanation text,
	profNecessity int references sosedushka_db.skill (id),
	equipment int references sosedushka_db.equipment (id),
	owner varchar(30) references sosedushka_db.user (tgName),
	executor varchar(30) references sosedushka_db.user (tgName),
	status varchar(20));
create table sosedushka_db.ban(
	word text not null primary key);
\end{lstlisting}
\captionsetup{singlelinecheck=false, justification=centering}\newpage

\captionsetup{singlelinecheck=false, justification=raggedright}
\begin{lstlisting}[language=sql, caption=Заполнение базы данных, label=fill]
copy sosedushka_db.user (tgName, geoLat, geoLong, customerRole, 
executorRole, administratorRole, adminVerified) 
from '/tmp/db_course/user.csv'
with delimiter ',';

copy sosedushka_db.connection (userTgName, currentRole)
from '/tmp/db_course/connection.csv'
with delimiter ',';

copy sosedushka_db.skill (name) 
from '/tmp/db_course/skill.csv'
with delimiter ',';

copy sosedushka_db.executorSkill (executorId, skillId, skillStatus) 
from '/tmp/db_course/executorSkill.csv'
with delimiter ',';

copy sosedushka_db.equipment (name) 
from '/tmp/db_course/equipment.csv'
with delimiter ',';

copy sosedushka_db.request (title, periodOfRelevance, explanation, 	
profNecessity, equipment, owner, executor, status)
from '/tmp/db_course/request.csv'
(format csv, null '');

copy sosedushka_db.ban (word)
from '/tmp/db_course/ban.csv'
with delimiter ',';
\end{lstlisting}
\captionsetup{singlelinecheck=false, justification=centering}